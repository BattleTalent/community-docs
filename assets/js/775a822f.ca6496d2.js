"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[5773],{4371:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>u,default:()=>d,frontMatter:()=>r,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"LuaScript/Reference by category/Input/snippet-input-detection","title":"InputDetection","description":"Checks if a button is pressed","source":"@site/docs/LuaScript/4.Reference by category/10.Input/snippet-input-detection.md","sourceDirName":"LuaScript/4.Reference by category/10.Input","slug":"/LuaScript/Reference by category/Input/snippet-input-detection","permalink":"/community-docs/docs/LuaScript/Reference by category/Input/snippet-input-detection","draft":false,"unlisted":false,"editUrl":"https://github.com/BattleTalent/community-docs/docs/LuaScript/4.Reference by category/10.Input/snippet-input-detection.md","tags":[],"version":"current","frontMatter":{"title":"InputDetection"},"sidebar":"docs","previous":{"title":"NetworkState - state synchronization","permalink":"/community-docs/docs/LuaScript/Reference by category/Network/NetworkState"},"next":{"title":"CL - AudioMgr - PlaySoundClip","permalink":"/community-docs/docs/LuaScript/Reference by category/Audio/snippet-play-sound-clip"}}');var o=t(4848),i=t(8453);const r={title:"InputDetection"},u=void 0,a={},c=[{value:"Example",id:"example",level:2},{value:"User Variables",id:"user-variables",level:2},{value:"FAQ",id:"faq",level:2},{value:"Do you have an example on how you would use this in a script?",id:"do-you-have-an-example-on-how-you-would-use-this-in-a-script",level:3},{value:"Any other functions I can use with buttons?",id:"any-other-functions-i-can-use-with-buttons",level:3}];function l(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,i.RP)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.p,{children:"Checks if a button is pressed"}),"\n",(0,o.jsx)(n.h2,{id:"example",children:"Example"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-lua",children:'local player = CL.InteractCharacter.PlayerInstance\nif player == nil then\n    return\nend\n\nlocal leftHand = player.hands[1]\nlocal rightHand = player.hands[0]\n\nlocal xButton = leftHand.inputs[CL.VRTKInputButton.ButtonType.ButtonOne]\nlocal yButton = leftHand.inputs[CL.VRTKInputButton.ButtonType.ButtonTwo]\nlocal aButton = rightHand.inputs[CL.VRTKInputButton.ButtonType.ButtonOne]\nlocal bButton = rightHand.inputs[CL.VRTKInputButton.ButtonType.ButtonTwo]\n\nif xButton.IsPressed then\n    print("you pressed the X button")\nend\n\nif yButton.IsPressed then\n    print("you pressed the Y button")\nend\n\nif aButton.IsPressed then\n    print("you pressed the A button")\nend\n\nif bButton.IsPressed then\n    print("you pressed the B button")\nend\n'})}),"\n",(0,o.jsx)(n.h2,{id:"user-variables",children:"User Variables"}),"\n",(0,o.jsx)(n.p,{children:"No user variables."}),"\n",(0,o.jsx)(n.h2,{id:"faq",children:"FAQ"}),"\n",(0,o.jsx)(n.h3,{id:"do-you-have-an-example-on-how-you-would-use-this-in-a-script",children:"Do you have an example on how you would use this in a script?"}),"\n",(0,o.jsxs)(n.p,{children:["Sure. Here is a script which you can call in an ",(0,o.jsx)(n.code,{children:"InteractTriggerX"}),"."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-lua",children:'function table = {}\n\nfunction table:OnGrab(a, g)\n  self.hand = a.attachedHand\n  self:ListenForButtonInput()\nend\n\nfunction table:ListenForButtonInput()\n    local detectButtonInput = function(sche, t, s)\n        if IsNullOrDestroyed(self.trans) then\n            sche:Stop()\n            CL.Scheduler.RemoveSchedule(self.ButtonSchedId) \n            return\n        end\n\n         -- gets the a/x button of respective hand\n        local buttonIsPressed = self.hand.inputs[CL.VRTKInputButton.ButtonType.ButtonOne].IsPressed\n        \n        if self.isPress and not buttonIsPressed then\n            self.isPress = false\n\n            print("buttonReleased")\n        end\n        if not self.isPress and buttonIsPressed then\n            self.isPress = true\n          \n            print("buttonPressed")\n        end\n    end\n\n    self.ButtonSchedId = CL.Scheduler.Create(self.trans, detectButtonInput ,0, -1).actionId\nend\n\nreturn Class(nil,nil,table)\n'})}),"\n",(0,o.jsx)(n.h3,{id:"any-other-functions-i-can-use-with-buttons",children:"Any other functions I can use with buttons?"}),"\n",(0,o.jsxs)(n.p,{children:["Yes! you can also check if it's being touched, heldDown, and more! Check ",(0,o.jsx)(n.a,{href:"https://battletalent.github.io/BTModToolkit/class_cross_link_1_1_v_r_t_k_input_button.html",children:"here"})]})]})}function d(e={}){const{wrapper:n}={...(0,i.RP)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}},8453:(e,n,t)=>{t.d(n,{RP:()=>i,xA:()=>u});var s=t(6540);const o=s.createContext({});function i(e){const n=s.useContext(o);return s.useMemo((()=>"function"==typeof e?e(n):{...n,...e}),[n,e])}const r={};function u({components:e,children:n,disableParentContext:t}){let u;return u=t?"function"==typeof e?e({}):e||r:i(e),s.createElement(o.Provider,{value:u},n)}}}]);