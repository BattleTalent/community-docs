"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[8703],{2195:(t,e,l)=>{l.r(e),l.d(e,{assets:()=>c,contentTitle:()=>a,default:()=>d,frontMatter:()=>r,metadata:()=>n,toc:()=>h});const n=JSON.parse('{"id":"draft/scripting-in-lua","title":"Scripting in Lua","description":"Basic Classes","source":"@site/docs/draft/scripting-in-lua.md","sourceDirName":"draft","slug":"/draft/scripting-in-lua","permalink":"/community-docs/docs/draft/scripting-in-lua","draft":false,"unlisted":false,"editUrl":"https://github.com/BattleTalent/community-docs/docs/draft/scripting-in-lua.md","tags":[],"version":"current","frontMatter":{}}');var s=l(4848),i=l(8453);const r={},a="Scripting in Lua",c={},h=[{value:"Basic Classes",id:"basic-classes",level:4},{value:"GamePlay Related Classes",id:"gameplay-related-classes",level:4},{value:"Lua Host Classes",id:"lua-host-classes",level:4},{value:"Commonly used components",id:"commonly-used-components",level:4},{value:"Tips for scripting in lua:",id:"tips-for-scripting-in-lua",level:4},{value:"Related Manual",id:"related-manual",level:4}];function o(t){const e={a:"a",h1:"h1",h4:"h4",header:"header",li:"li",p:"p",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.RP)(),...t.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.header,{children:(0,s.jsx)(e.h1,{id:"scripting-in-lua",children:"Scripting in Lua"})}),"\n",(0,s.jsx)(e.h4,{id:"basic-classes",children:"Basic Classes"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://battletalent.github.io/BTModToolkit/class_cross_link_1_1_scheduler.html",children:"Scheduler"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://battletalent.github.io/BTModToolkit/class_cross_link_1_1_language_mgr.html",children:"LanguageMgr"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://battletalent.github.io/BTModToolkit/class_cross_link_1_1_language_mgr.html",children:"EffectMgr"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://battletalent.github.io/BTModToolkit/class_cross_link_1_1_audio_mgr.html",children:"AudioMgr"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://battletalent.github.io/BTModToolkit/class_cross_link_1_1_resource_mgr.html",children:"ResourceMgr"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://battletalent.github.io/BTModToolkit/class_cross_link_1_1_game_data_mgr.html",children:"GameDataMgr"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://battletalent.github.io/BTModToolkit/class_cross_link_1_1_x_lua_mgr.html",children:"XLuaMgr"})}),"\n"]}),"\n",(0,s.jsx)(e.h4,{id:"gameplay-related-classes",children:"GamePlay Related Classes"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://battletalent.github.io/BTModToolkit/class_cross_link_1_1_hit_info_config.html",children:"HitInfoConfig"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://battletalent.github.io/BTModToolkit/class_cross_link_1_1_unlock_content_config.html",children:"UnlockContentConfig"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://battletalent.github.io/BTModToolkit/class_cross_link_1_1_a_i_proxy.html",children:"AIProxy"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://battletalent.github.io/BTModToolkit/class_cross_link_1_1_character_combat_attr.html",children:"CharacterCombatAttr"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://battletalent.github.io/BTModToolkit/class_cross_link_1_1_full_body_muscle_state.html",children:"FullBodyMuscleState"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://battletalent.github.io/BTModToolkit/class_cross_link_1_1_buffer_mgr.html",children:"BuffMgr"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://battletalent.github.io/BTModToolkit/class_cross_link_1_1_interact_base.html",children:"InteractBase"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://battletalent.github.io/BTModToolkit/class_cross_link_1_1_hud_mgr.html",children:"HUDMgr"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://battletalent.github.io/BTModToolkit/class_cross_link_1_1_player_data_mgr.html",children:"PlayerDataMgr"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://battletalent.github.io/BTModToolkit/class_cross_link_1_1_level_data_mgr.html",children:"LevelDataMgr"})}),"\n"]}),"\n",(0,s.jsx)(e.h4,{id:"lua-host-classes",children:"Lua Host Classes"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://battletalent.github.io/BTModToolkit/class_cross_link_1_1_lua_behaviour.html",children:"LuaBehaviour"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://battletalent.github.io/BTModToolkit/class_cross_link_1_1_interact_trigger_x.html",children:"InteractTriggerX"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://battletalent.github.io/BTModToolkit/class_cross_link_1_1_fly_object_x.html",children:"FlyObjectX"})}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:"For lua host script, check the LuaFunction in each class, that's the event they will receive."}),"\n",(0,s.jsx)(e.p,{children:"For example, InteractTriggerX has luaCloseSkill, then it'll recive CloseSkill Event"}),"\n",(0,s.jsx)(e.p,{children:"exceptional case:"}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{style:{textAlign:"center"},children:"LuaFunction name"}),(0,s.jsx)(e.th,{style:{textAlign:"center"},children:"actual event name"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{style:{textAlign:"center"},children:"AwakeInit"}),(0,s.jsx)(e.td,{style:{textAlign:"center"},children:"Awake"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{style:{textAlign:"center"},children:"StartInit"}),(0,s.jsx)(e.td,{style:{textAlign:"center"},children:"Start"})]})]})]}),"\n",(0,s.jsx)(e.p,{children:"For example, InteractTriggerX has luaAwakeInit, but it'll receive Awake Event instead of AwakeInit"}),"\n",(0,s.jsx)(e.h4,{id:"commonly-used-components",children:"Commonly used components"}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"Basic Components"}),(0,s.jsx)(e.th,{children:"Function"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"InteractWeapon"}),(0,s.jsx)(e.td,{children:"represent the entity of weapon"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"InteractTrigger / InteractTriggerX"}),(0,s.jsx)(e.td,{children:"define how weapon works when player pressing trigger button"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"StabObj"}),(0,s.jsx)(e.td,{children:"define how your weapon penetrate others"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"RagdollHitInfoObj"}),(0,s.jsx)(e.td,{children:"define how to calculate damage"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"RagdollHitInfoRef"}),(0,s.jsx)(e.td,{children:"it'll define a group of RagdollHitInfoObj as a whole, so that they won't hit multiple times"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"RagdollInit"}),(0,s.jsx)(e.td,{children:"define intertia tensor and center mass, if it's zero, then it'll not take effect on the rigidbody"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"CollisionEffect"}),(0,s.jsx)(e.td,{children:"simulate physics collision effect"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"AttachLine / AttachPoint"}),(0,s.jsx)(e.td,{children:"define how player grabs it"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"Mount Point"}),(0,s.jsx)(e.td,{children:"define how player put it in the pocket"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"FlyObj / FlyObjX"}),(0,s.jsx)(e.td,{children:"attached on Fly Object, such as bullet, magic"})]})]})]}),"\n",(0,s.jsx)(e.h4,{id:"tips-for-scripting-in-lua",children:"Tips for scripting in lua:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"namespace of CShape code is CS in lua"}),"\n",(0,s.jsxs)(e.li,{children:["namespace ",(0,s.jsx)(e.a,{href:"https://battletalent.github.io/BTModToolkit/namespace_cross_link.html",children:"CrossLink"})," is CL in lua, CL == CS.CrossLink"]}),"\n",(0,s.jsx)(e.li,{children:"namespace UnityEngine is UE in lua, UE == CS.UnityEngine"}),"\n",(0,s.jsx)(e.li,{children:"calling a static function should use '.' instead of ':' in lua"}),"\n",(0,s.jsxs)(e.li,{children:["recommend using ",(0,s.jsx)(e.a,{href:"https://studio.zerobrane.com/",children:"ZeroBrane Studio"})," as lua editor"]}),"\n",(0,s.jsx)(e.li,{children:"use IsNullOrDestroyed for null checking"}),"\n"]}),"\n",(0,s.jsx)(e.h4,{id:"related-manual",children:"Related Manual"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://docs.unity3d.com/2019.4/Documentation/Manual/",children:"Unity manual"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://www.lua.org/manual/5.1/",children:"Lua manual"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://github.com/Tencent/xLua/blob/master/README_EN.md",children:"Xlua"})}),"\n"]})]})}function d(t={}){const{wrapper:e}={...(0,i.RP)(),...t.components};return e?(0,s.jsx)(e,{...t,children:(0,s.jsx)(o,{...t})}):o(t)}},8453:(t,e,l)=>{l.d(e,{RP:()=>i,xA:()=>a});var n=l(6540);const s=n.createContext({});function i(t){const e=n.useContext(s);return n.useMemo((()=>"function"==typeof t?t(e):{...e,...t}),[e,t])}const r={};function a({components:t,children:e,disableParentContext:l}){let a;return a=l?"function"==typeof t?t({}):t||r:i(t),n.createElement(s.Provider,{value:a},e)}}}]);