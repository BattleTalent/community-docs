"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[5773],{4371:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>u,default:()=>d,frontMatter:()=>i,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"LuaScript/Reference by category/Input/snippet-input-detection","title":"InputDetection","description":"Checks if a button is pressed","source":"@site/docs/LuaScript/4.Reference by category/10.Input/snippet-input-detection.md","sourceDirName":"LuaScript/4.Reference by category/10.Input","slug":"/LuaScript/Reference by category/Input/snippet-input-detection","permalink":"/community-docs/docs/LuaScript/Reference by category/Input/snippet-input-detection","draft":false,"unlisted":false,"editUrl":"https://github.com/BattleTalent/community-docs/docs/LuaScript/4.Reference by category/10.Input/snippet-input-detection.md","tags":[],"version":"current","frontMatter":{"title":"InputDetection"},"sidebar":"docs","previous":{"title":"NetworkState - state synchronization","permalink":"/community-docs/docs/LuaScript/Reference by category/Network/NetworkState"},"next":{"title":"CL - AudioMgr - PlaySoundClip","permalink":"/community-docs/docs/LuaScript/Reference by category/Audio/snippet-play-sound-clip"}}');var s=t(4848),o=t(8453);const i={title:"InputDetection"},u=void 0,a={},c=[{value:"Example",id:"example",level:2},{value:"User Variables",id:"user-variables",level:2},{value:"FAQ",id:"faq",level:2},{value:"Do you have an example on how you would use this in a script?",id:"do-you-have-an-example-on-how-you-would-use-this-in-a-script",level:3},{value:"Any other functions I can use with buttons?",id:"any-other-functions-i-can-use-with-buttons",level:3}];function l(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,o.RP)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"Checks if a button is pressed"}),"\n",(0,s.jsx)(n.h2,{id:"example",children:"Example"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'local player = CL.InteractCharacter.PlayerInstance\r\nif player == nil then\r\n    return\r\nend\r\n\r\nlocal leftHand = player.hands[1]\r\nlocal rightHand = player.hands[0]\r\n\r\nlocal xButton = leftHand.inputs[CL.VRTKInputButton.ButtonType.ButtonOne]\r\nlocal yButton = leftHand.inputs[CL.VRTKInputButton.ButtonType.ButtonTwo]\r\nlocal aButton = rightHand.inputs[CL.VRTKInputButton.ButtonType.ButtonOne]\r\nlocal bButton = rightHand.inputs[CL.VRTKInputButton.ButtonType.ButtonTwo]\r\n\r\nif xButton.IsPressed then\r\n    print("you pressed the X button")\r\nend\r\n\r\nif yButton.IsPressed then\r\n    print("you pressed the Y button")\r\nend\r\n\r\nif aButton.IsPressed then\r\n    print("you pressed the A button")\r\nend\r\n\r\nif bButton.IsPressed then\r\n    print("you pressed the B button")\r\nend\n'})}),"\n",(0,s.jsx)(n.h2,{id:"user-variables",children:"User Variables"}),"\n",(0,s.jsx)(n.p,{children:"No user variables."}),"\n",(0,s.jsx)(n.h2,{id:"faq",children:"FAQ"}),"\n",(0,s.jsx)(n.h3,{id:"do-you-have-an-example-on-how-you-would-use-this-in-a-script",children:"Do you have an example on how you would use this in a script?"}),"\n",(0,s.jsxs)(n.p,{children:["Sure. Here is a script which you can call in an ",(0,s.jsx)(n.code,{children:"InteractTriggerX"}),"."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function table = {}\r\n\r\nfunction table:OnGrab(a, g)\r\n  self.hand = a.attachedHand\r\n  self:ListenForButtonInput()\r\nend\r\n\r\nfunction table:ListenForButtonInput()\r\n    local detectButtonInput = function(sche, t, s)\r\n        if IsNullOrDestroyed(self.trans) then\r\n            sche:Stop()\r\n            CL.Scheduler.RemoveSchedule(self.ButtonSchedId) \r\n            return\r\n        end\r\n\r\n         -- gets the a/x button of respective hand\r\n        local buttonIsPressed = self.hand.inputs[CL.VRTKInputButton.ButtonType.ButtonOne].IsPressed\r\n        \r\n        if self.isPress and not buttonIsPressed then\r\n            self.isPress = false\r\n\r\n            print("buttonReleased")\r\n        end\r\n        if not self.isPress and buttonIsPressed then\r\n            self.isPress = true\r\n          \r\n            print("buttonPressed")\r\n        end\r\n    end\r\n\r\n    self.ButtonSchedId = CL.Scheduler.Create(self.trans, detectButtonInput ,0, -1).actionId\r\nend\r\n\r\nreturn Class(nil,nil,table)\n'})}),"\n",(0,s.jsx)(n.h3,{id:"any-other-functions-i-can-use-with-buttons",children:"Any other functions I can use with buttons?"}),"\n",(0,s.jsxs)(n.p,{children:["Yes! you can also check if it's being touched, heldDown, and more! Check ",(0,s.jsx)(n.a,{href:"https://battletalent.github.io/BTModToolkit/class_cross_link_1_1_v_r_t_k_input_button.html",children:"here"})]})]})}function d(e={}){const{wrapper:n}={...(0,o.RP)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},8453:(e,n,t)=>{t.d(n,{RP:()=>o,xA:()=>u});var r=t(6540);const s=r.createContext({});function o(e){const n=r.useContext(s);return r.useMemo((()=>"function"==typeof e?e(n):{...n,...e}),[n,e])}const i={};function u({components:e,children:n,disableParentContext:t}){let u;return u=t?"function"==typeof e?e({}):e||i:o(e),r.createElement(s.Provider,{value:u},n)}}}]);