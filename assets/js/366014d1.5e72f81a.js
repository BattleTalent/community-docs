"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[928],{3163:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>a,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"support-mod-types/Weapon/ImportantComponent/InteractTrigger","title":"InteractTrigger / InteractTriggerX","description":"InteractTrigger is a base class that defines various interaction behaviors for weapons. InteractTriggerX extends this base class by adding scripting capabilities.","source":"@site/docs/support-mod-types/1.Weapon/2.ImportantComponent/InteractTrigger.mdx","sourceDirName":"support-mod-types/1.Weapon/2.ImportantComponent","slug":"/support-mod-types/Weapon/ImportantComponent/InteractTrigger","permalink":"/community-docs/docs/support-mod-types/Weapon/ImportantComponent/InteractTrigger","draft":false,"unlisted":false,"editUrl":"https://github.com/BattleTalent/community-docs/docs/support-mod-types/1.Weapon/2.ImportantComponent/InteractTrigger.mdx","tags":[],"version":"current","frontMatter":{},"sidebar":"docs","previous":{"title":"FlyObject / FlyObjectX","permalink":"/community-docs/docs/support-mod-types/Weapon/ImportantComponent/FlyObject"},"next":{"title":"Create a song mod","permalink":"/community-docs/docs/support-mod-types/Song/Tutorials/create-a-song-mod"}}');var i=n(4848),s=n(8453);const a={},l="InteractTrigger / InteractTriggerX",c={},d=[{value:"Overview",id:"overview",level:2},{value:"Basic Skill Parameters",id:"basic-skill-parameters",level:2},{value:"Implementation Details",id:"implementation-details",level:2},{value:"Class Hierarchy",id:"class-hierarchy",level:3}];function o(e){const t={blockquote:"blockquote",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",strong:"strong",ul:"ul",...(0,s.RP)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"interacttrigger--interacttriggerx",children:"InteractTrigger / InteractTriggerX"})}),"\n",(0,i.jsx)(t.p,{children:"InteractTrigger is a base class that defines various interaction behaviors for weapons. InteractTriggerX extends this base class by adding scripting capabilities."}),"\n",(0,i.jsx)(t.h2,{id:"overview",children:"Overview"}),"\n",(0,i.jsx)(t.p,{children:"In the game, weapon interactions are implemented as a skill system. Each interaction type is treated as an independent skill, including but not limited to:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Special attack modes"}),"\n",(0,i.jsx)(t.li,{children:"Shooting mechanics"}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"basic-skill-parameters",children:"Basic Skill Parameters"}),"\n",(0,i.jsx)(t.p,{children:"We provide several basic skill parameters that can be combined to create common interaction patterns. Each skill has the following key timing parameters:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"instantSkill"}),": Whether the skill activates immediately"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"skillChargeEndTime"}),": Duration needed to fully charge the skill"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"activateTime"}),": Duration of the skill effect"]}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"implementation-details",children:"Implementation Details"}),"\n",(0,i.jsx)(t.p,{children:"The actual implementation of these interactions is handled through LuaScript used by the InteractTriggerX component. Different parameter combinations will trigger different callback functions within the script:"}),"\n",(0,i.jsx)(t.h3,{id:"class-hierarchy",children:"Class Hierarchy"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"InteractTrigger"}),": Base class providing core interaction functionality"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"InteractTriggerX"}),": Extended class that adds scripting support through LuaScript"]}),"\n"]}),"\n",(0,i.jsxs)(t.blockquote,{children:["\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Important Note"}),": Since InteractTrigger and InteractTriggerX have an inheritance relationship, do not add both components to the same object to prevent unexpected behavior in Lua scripts."]}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:"The following table illustrates how different parameter combinations affect the mana cost system and which callback functions will be triggered:"}),"\n",(0,i.jsxs)("table",{children:[(0,i.jsx)("tr",{children:(0,i.jsx)("th",{colspan:"6",children:"Parameters Selection"})}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:"instantSkill"}),(0,i.jsx)("td",{}),(0,i.jsx)("td",{children:"\u221a"}),(0,i.jsx)("td",{children:"\u221a"}),(0,i.jsx)("td",{}),(0,i.jsx)("td",{})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:"skillChargeEndTime"}),(0,i.jsx)("td",{}),(0,i.jsx)("td",{}),(0,i.jsx)("td",{children:"\u221a"}),(0,i.jsx)("td",{children:"\u221a"}),(0,i.jsx)("td",{children:"\u221a"})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:"activateTime"}),(0,i.jsx)("td",{}),(0,i.jsx)("td",{}),(0,i.jsx)("td",{}),(0,i.jsx)("td",{children:"\u221a"}),(0,i.jsx)("td",{})]}),(0,i.jsx)("tr",{children:(0,i.jsx)("th",{colspan:"6",children:"Combination Effect"})}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:"Example"}),(0,i.jsx)("td",{children:"continuous update skills: telekinesis, sprint spear, slash katana"}),(0,i.jsx)("td",{children:"one-shot skills: gun firing"}),(0,i.jsx)("td",{children:"shoot and charge skills: storm pistol"}),(0,i.jsx)("td",{children:"charge-to-state skills: thunder spear"}),(0,i.jsx)("td",{children:"charge-and-release skills: fireball spell"})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:"Actual Mana Calculation"}),(0,i.jsx)("td",{children:"manaCostOnCharge"}),(0,i.jsx)("td",{children:"manaCost"}),(0,i.jsx)("td",{children:"manaCost manaCostOnCharge"}),(0,i.jsx)("td",{children:"manaCostOnCharge"}),(0,i.jsx)("td",{children:"manaCostOnCharge"})]}),(0,i.jsx)("tr",{children:(0,i.jsxs)(t.p,{children:[(0,i.jsx)("td",{children:"Callbacks"}),(0,i.jsx)(t.br,{}),"\n",(0,i.jsx)("td",{children:"OpenSkill UpdateSkill CloseSkill"}),"\r\n",(0,i.jsx)("td",{children:"UpdateSkill"}),"\r\n",(0,i.jsx)("td",{children:"UpdateSkill OnChargeBegin OnChargeReady OnChargeUpdate OnChargeRelease OnChargeCancel"}),"\r\n",(0,i.jsx)("td",{children:"OnActivateBegin OnActivateEnd OnActivateCancel"}),"\r\n",(0,i.jsx)("td",{children:"OnChargeBegin->OnChargeReady->OnChargeUpdate->OnChargeRelease"})]})})]})]})}function h(e={}){const{wrapper:t}={...(0,s.RP)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},8453:(e,t,n)=>{n.d(t,{RP:()=>s,xA:()=>l});var r=n(6540);const i=r.createContext({});function s(e){const t=r.useContext(i);return r.useMemo((()=>"function"==typeof e?e(t):{...t,...e}),[t,e])}const a={};function l({components:e,children:t,disableParentContext:n}){let l;return l=n?"function"==typeof e?e({}):e||a:s(e),r.createElement(i.Provider,{value:l},t)}}}]);